<ion-header>
  <ion-toolbar>
    <ion-title>Slepet Group</ion-title>
    <ion-buttons slot="end">
      <ion-button routerLink="/akun-saya">
        <ion-icon name="person-circle-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>

  <ion-toolbar>
    <ion-searchbar [(ngModel)]="searchTerm" placeholder="Cari produk..." (ionInput)="onSearchChange()"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
 <!-- Banner -->
<img src="assets/shapes.svg" style="width: 100%; border-radius: 10px; margin: 10px 0;" />

<!-- Kategori -->
<ion-chip *ngFor="let cat of categories" (click)="filterByCategory(cat.name)">
  {{ cat.name }}
</ion-chip>

  <!-- âœ… Rekomendasi Produk -->
  <ion-text color="primary">
    <h2>Rekomendasi Produk</h2>
  </ion-text>

  <ion-grid>
    <ion-row>
      <ion-col size="6" *ngFor="let p of filteredProducts">
        <ion-card>
          <div (click)="goToDetail(p)">
            <img [src]="p.image_url || 'assets/default.png'" />
            <ion-card-content>
              <h2>{{ p.name }}</h2>
              <p>Rp{{ p.price | number }}</p>
            </ion-card-content>
          </div>
          <ion-button expand="block" size="small" (click)="addToCart(p, $event)">
            <ion-icon name="cart-outline" slot="start"></ion-icon>
            Tambah
          </ion-button>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-buttons slot="start" class="footer-buttons">
      <ion-button routerLink="/home">
        <ion-icon name="home-outline"></ion-icon>
        <ion-label>Home</ion-label>
      </ion-button>
      <ion-button routerLink="/cart">
        <ion-icon name="cart-outline"></ion-icon>
        <ion-label>Keranjang</ion-label>
      </ion-button>
      <ion-button routerLink="/pesan">
        <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
        <ion-label>Pesan</ion-label>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
